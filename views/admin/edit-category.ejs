<%- include('../partials/admin/admin-header') %>

<section class="edit-category-container">
  <h2>Edit Category</h2>
  
  <form id="editCategoryForm" method="POST" action="/admin/categories/<%= category._id %>?_method=PUT" enctype="multipart/form-data">
    <input type="hidden" name="_method" value="PUT">
    
    <div class="form-group">
      <label for="name">Category Name</label>
      <input type="text" id="name" name="name" value="<%= category.name %>" required>
    </div>
    
    <div class="form-group">
      <label for="code">Category Code</label>
      <input type="text" id="code" name="code" value="<%= category.code %>" readonly>
    </div>
    
    <div class="form-group">
      <label for="image">Category Image</label>
      <% if (category.image) { %>
        <img src="<%= category.image %>" alt="Current Image" class="current-image">
        <p class="image-note">Leave empty to keep current image</p>
      <% } %>
      <input type="file" id="image" name="image" accept="image/*">
    </div>
    
    <div class="form-group">
      <label for="description">Description</label>
      <textarea id="description" name="description"><%= category.description %></textarea>
    </div>
    
    <div class="form-group">
      <label>Status</label>
      <label class="switch">
        <input type="checkbox" name="status" <%= category.status === 'active' ? 'checked' : '' %>>
        <span class="slider round"></span>
        <span class="switch-label"><%= category.status === 'active' ? 'Active' : 'Inactive' %></span>
      </label>
    </div>
    
    <div class="form-actions">
      <button type="submit" class="btn-save">Save Changes</button>
      <a href="/admin/categories" class="btn-cancel">Cancel</a>
    </div>
  </form>
</section>

<%- include('../partials/admin/admin-footer') %>